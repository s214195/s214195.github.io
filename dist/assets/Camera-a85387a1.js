import{_ as i,o as c,c as n,a as t,t as d,j as h,p as l,d as m}from"./index-cc870c15.js";const _={data(){return{cameraOn:!1,stream:null,screenshotData:null}},methods:{async toggleCamera(){if(this.cameraOn)this.stream.getTracks().forEach(e=>e.stop()),this.$refs.video.srcObject=null;else try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.$refs.video.srcObject=this.stream}catch(e){console.error("Error accessing camera:",e)}this.cameraOn=!this.cameraOn},takeScreenshot(){const e=document.createElement("canvas");e.width=this.$refs.video.videoWidth,e.height=this.$refs.video.videoHeight,e.getContext("2d").drawImage(this.$refs.video,0,0),this.screenshotData=e.toDataURL("image/png")}},beforeUnmount(){var e;(e=this.stream)==null||e.getTracks().forEach(s=>s.stop())}},u=e=>(l("data-v-eb2501c2"),e=e(),m(),e),p={class:"camera-component"},v={class:"camera-screen"},g={ref:"video",autoplay:""},f={class:"controls"},k={key:0,class:"screenshot-display"},b=u(()=>t("h2",null,"Injury Image",-1)),y=["src"];function C(e,s,S,D,o,a){return c(),n("div",p,[t("div",v,[t("video",g,null,512)]),t("div",f,[t("button",{onClick:s[0]||(s[0]=(...r)=>a.toggleCamera&&a.toggleCamera(...r)),class:"camera-btn"},d(o.cameraOn?"Turn off camera":"Turn on camera"),1),t("button",{onClick:s[1]||(s[1]=(...r)=>a.takeScreenshot&&a.takeScreenshot(...r)),class:"screenshot-btn"},"Take injury photo")]),o.screenshotData?(c(),n("div",k,[b,t("img",{src:o.screenshotData,alt:"Screenshot"},null,8,y)])):h("",!0)])}const O=i(_,[["render",C],["__scopeId","data-v-eb2501c2"]]);export{O as default};
